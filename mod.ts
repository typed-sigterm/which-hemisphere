/**
 * @see ./README.md
 * @author Typed SIGTERM and other contributors
 * @license MIT
 *
 * @module
 */

/** Enumerates the two hemispheres of the Earth. */
export enum Hemisphere {
  Northern = 1,
  Southern = 2,
}

/**
 * A record that maps time zone identifiers to their respective hemispheres,
 * or `undefined` if the time zone associated with two hemispheres.
 */
const Hemispheres: Record<string, Hemisphere | undefined> = {
  'Africa/Algiers': 1,
  'Africa/Bangui': 1,
  'Africa/Cairo': 1,
  'Africa/Casablanca': 1,
  'Africa/El_Aaiun': 1,
  'Africa/Khartoum': 1,
  'Africa/Monrovia': 1,
  'Africa/Nouakchott': 1,
  'Africa/Tunis': 1,
  'America/Argentina/Buenos_Aires': 2,
  'America/Argentina/Cordoba': 2,
  'America/Argentina/Jujuy': 2,
  'America/Argentina/La_Rioja': 2,
  'America/Argentina/Mendoza': 2,
  'America/Argentina/Rio_Gallegos': 2,
  'America/Argentina/Salta': 2,
  'America/Argentina/San_Juan': 2,
  'America/Argentina/San_Luis': 2,
  'America/Argentina/Tucuman': 2,
  'America/Argentina/Ushuaia': 2,
  'America/Bahia': 2,
  'America/Belem': 2,
  'America/Buenos_Aires': 2,
  'America/Catamarca': 2,
  'America/Cayenne': 2,
  'America/Chuquisaca': 2,
  'America/Cordoba': 2,
  'America/Costa_Rica': 2,
  'America/Cuiaba': 2,
  'America/Danmarkshavn': 1,
  'America/Eirunepe': 2,
  'America/Fortaleza': 2,
  'America/Glace_Bay': 2,
  'America/Godthab': undefined,
  'America/Goias': 2,
  'America/Grenland_Eastern': 1,
  'America/Grenland_Western': 1,
  'America/Guayaquil': 2,
  'America/Guyana': 2,
  'America/Jujuy': 2,
  'America/La_Paz': 2,
  'America/Lima': 2,
  'America/Los_Angeles': 2,
  'America/Maceio': 2,
  'America/Manaus': 2,
  'America/Mendoza': 2,
  'America/Montevideo': 2,
  'America/Nipigon': 1,
  'America/Nome': 1,
  'America/Noronha': 1,
  'America/Pangnirtung': 1,
  'America/Paramaribo': 2,
  'America/Recife': 2,
  'America/Resolute': 1,
  'America/Rio_Branco': 2,
  'America/Santarem': 2,
  'America/Sao_Paulo': 2,
  'America/Scoresbysund': 1,
  'America/Thule': 1,
  'America/Toronto': undefined,
  'America/Ushuaia': 2,
  'America/Vancouver': 2,
  'America/Virgin': 2,
  'America/Winnipeg': 1,
  'Antarctica/Casey': 2,
  'Antarctica/Davis': 2,
  'Antarctica/DumontDUrville': 2,
  'Antarctica/Macquarie': 2,
  'Antarctica/Mawson': 2,
  'Antarctica/McMurdo': 2,
  'Antarctica/Palmer': 2,
  'Antarctica/Rothera': 2,
  'Antarctica/Syowa': 2,
  'Antarctica/Troll': undefined,
  'Antarctica/Vostok': 2,
  'Antarctica/WDavis': 1,
  'Arctic/Longyearbyen': 1,
  'Asia/Aden': 1,
  'Asia/Almaty': 1,
  'Asia/Amman': 1,
  'Asia/Anadyr': 1,
  'Asia/Aqtau': 1,
  'Asia/Aqtobe': 1,
  'Asia/Baghdad': 1,
  'Asia/Bahrain': 1,
  'Asia/Baku': 1,
  'Asia/Beirut': 1,
  'Asia/Bishkek': 1,
  'Asia/Brunei': 1,
  'Asia/Chita': 1,
  'Asia/Choibalsan': 1,
  'Asia/Colombo': 1,
  'Asia/Damascus': 1,
  'Asia/Dubai': 1,
  'Asia/Dushanbe': 1,
  'Asia/Gaza': 1,
  'Asia/Hebron': 1,
  'Asia/Hong_Kong': 1,
  'Asia/Irkutsk': 1,
  'Asia/Jakarta': 1,
  'Asia/Jayapura': 1,
  'Asia/Jerusalem': 1,
  'Asia/Kabul': 1,
  'Asia/Kamchatka': 1,
  'Asia/Karachi': 1,
  'Asia/Kathmandu': 1,
  'Asia/Khandyga': 1,
  'Asia/Kolkata': 1,
  'Asia/Krasnoyarsk': 1,
  'Asia/Kuala_Lumpur': 1,
  'Asia/Kuching': 1,
  'Asia/Kuwait': 1,
  'Asia/Macau': 1,
  'Asia/Magadan': 1,
  'Asia/Makassar': 1,
  'Asia/Manila': 1,
  'Asia/Muscat': 1,
  'Asia/Nicosia': 1,
  'Asia/Novokuznetsk': 1,
  'Asia/Novosibirsk': 1,
  'Asia/Omsk': 1,
  'Asia/Oral': 1,
  'Asia/Pontianak': 1,
  'Asia/Pyongyang': 1,
  'Asia/Qatar': 1,
  'Asia/Qostanay': 1,
  'Asia/Qyzylorda': 1,
  'Asia/Riyadh': 1,
  'Asia/Sakhalin': 1,
  'Asia/Samarkand': 1,
  'Asia/Seoul': 1,
  'Asia/Shanghai': 1,
  'Asia/Singapore': 1,
  'Asia/Srednekolymsk': 1,
  'Asia/Taipei': 1,
  'Asia/Tashkent': 1,
  'Asia/Tbilisi': 1,
  'Asia/Tehran': 1,
  'Asia/Thimphu': 1,
  'Asia/Tokyo': 1,
  'Asia/Ulaanbaatar': 1,
  'Asia/Urumqi': 1,
  'Asia/Ust-Nera': 1,
  'Asia/Vientiane': 1,
  'Asia/Vladivostok': 1,
  'Asia/Yakutsk': 1,
  'Asia/Yangon': 1,
  'Asia/Yekaterinburg': 1,
  'Asia/Yerevan': 1,
  'Atlantic/Azores': 1,
  'Atlantic/Canary': 1,
  'Atlantic/Faeroe': 1,
  'Atlantic/Faroe': 1,
  'Atlantic/Madeira': 1,
  'Atlantic/Reykjavik': 1,
  'Atlantic/St_Helena': 1,
  'Australia/Adelaide': 2,
  'Australia/Brisbane': 2,
  'Australia/Broken_Hill': 2,
  'Australia/Currie': 2,
  'Australia/Darwin': 2,
  'Australia/Hobart': 2,
  'Australia/Lindeman': 2,
  'Australia/Melbourne': 2,
  'Australia/Perth': 2,
  'Australia/Sydney': 2,
  'Chile/Continental': 2,
  'Chile/EasterIsland': 2,
  'Europe/Amsterdam': 1,
  'Europe/Andorra': 1,
  'Europe/Astrakhan': 1,
  'Europe/Athens': 1,
  'Europe/Belgrade': 1,
  'Europe/Berlin': 1,
  'Europe/Bratislava': 1,
  'Europe/Brussels': 1,
  'Europe/Bucharest': 1,
  'Europe/Budapest': 1,
  'Europe/Chisinau': 1,
  'Europe/Copenhagen': 1,
  'Europe/Dublin': 1,
  'Europe/Gibraltar': 1,
  'Europe/Guernsey': 1,
  'Europe/Helsinki': 1,
  'Europe/Isle_of_Man': 1,
  'Europe/Istanbul': 1,
  'Europe/Jersey': 1,
  'Europe/Kaliningrad': 1,
  'Europe/Kiev': 1,
  'Europe/Kirov': 1,
  'Europe/Lisbon': 1,
  'Europe/Ljubljana': 1,
  'Europe/London': 1,
  'Europe/Luxembourg': 1,
  'Europe/Madrid': 1,
  'Europe/Malta': 1,
  'Europe/Mariehamn': 1,
  'Europe/Minsk': 1,
  'Europe/Monaco': 1,
  'Europe/Moscow': 1,
  'Europe/Oslo': 1,
  'Europe/Paris': 1,
  'Europe/Podgorica': 1,
  'Europe/Prague': 1,
  'Europe/Riga': 1,
  'Europe/Rome': 1,
  'Europe/Samara': 1,
  'Europe/San_Marino': 1,
  'Europe/Sarajevo': 1,
  'Europe/Saratov': 1,
  'Europe/Simferopol': 1,
  'Europe/Skopje': 1,
  'Europe/Sofia': 1,
  'Europe/Stockholm': 1,
  'Europe/Tallinn': 1,
  'Europe/Tirane': 1,
  'Europe/Ulyanovsk': 1,
  'Europe/Uzhgorod': 1,
  'Europe/Vaduz': 1,
  'Europe/Vatican': 1,
  'Europe/Vienna': 1,
  'Europe/Vilnius': 1,
  'Europe/Volgograd': 1,
  'Europe/Warsaw': 1,
  'Europe/Zagreb': 1,
  'Europe/Zaporozhye': 1,
  'Europe/Zurich': 1,
  'Pacific/Auckland': 2,
  'Pacific/Bougainville': 2,
  'Pacific/Chatham': 2,
  'Pacific/Easter': 2,
  'Pacific/Efate': 2,
  'Pacific/Enderbury': 2,
  'Pacific/Fakaofo': 2,
  'Pacific/Fiji': 2,
  'Pacific/Funafuti': 2,
  'Pacific/Galapagos': 2,
  'Pacific/Gambier': 2,
  'Pacific/Guadalcanal': 2,
  'Pacific/Guam': 2,
  'Pacific/Honolulu': 2,
  'Pacific/Kiritimati': 2,
  'Pacific/Kosrae': 2,
  'Pacific/Kwajalein': 2,
  'Pacific/Majuro': 2,
  'Pacific/Marquesas': 2,
  'Pacific/Midway': 2,
  'Pacific/Nauru': 2,
  'Pacific/Niue': 2,
  'Pacific/Norfolk': 2,
  'Pacific/Noumea': 2,
  'Pacific/Pago_Pago': 2,
  'Pacific/Palau': 2,
  'Pacific/Pitcairn': 2,
  'Pacific/Pohnpei': 2,
  'Pacific/Port_Moresby': 2,
  'Pacific/Rarotonga': 2,
  'Pacific/Saipan': 2,
  'Pacific/Tahiti': 2,
  'Pacific/Tarawa': 2,
  'Pacific/Tongatapu': 2,
  'Pacific/Wake': 2,
  'Pacific/Wallis': 2,
};

/**
 * Determines which hemisphere the current time zone is in.
 *
 * @returns The hemisphere, or `undefined` if cannot be determined.
 */
export function hemisphere(): Hemisphere | undefined {
  const tz = Intl.DateTimeFormat().resolvedOptions().timeZone;
  return Hemispheres[tz];
}
